<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

  <title>Hello, world!</title>
</head>

<body>
  <nav>
    <a href="/sviOglasi" class="btn btn-primary">Svi oglasi</a>
  </nav>
  <div class="container">
    <h1 class="text-center">Svi oglasi</h1>
    <div class="alert alert-danger" role="alert" id="alert" style="display: none;"></div>
    <div>
      <form action="/izmeniOglas" method="POST" onsubmit="return validateForma()">
        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Kategorija" name="id" value="##{ID}" style="display: none"/>
        <label class="form-label">Kategorija</label>
        <input type="text" class="form-control" id="kat" placeholder="Kategorija" value="##{kategorija}" name="kategorija"/>
        <br>
        <label>Datum</label>
        <input type="date" class="form-control" id="dat" placeholder="Datum" value="##{datum}" name="datum"/>
        <br>
        <label>Cena</label>
        <input type="number" class="form-control" id="cena" placeholder="Cena" value="##{cena}" name="cena"/>
        <br>
        <label>Tekst</label>
        <input type="text" class="form-control" id="tekst" placeholder="Opis" value="##{tekst}" name="tekst"/>
        <br>
        <label>Tagovi</label>
        <input type="tagovi" class="form-control" id="tag" placeholder="Tagovi (odvojeni zarezom)" value="##{tagovi}" name="tagovi" />
        <br>
        <label>Email</label>
        <input type="email" class="form-control" id="mail" placeholder="Mejl" value="##{email}" name="email"/>
        <br>
        <button type="submit" class="btn btn-primary">Izmeni oglas</button>
        
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
    <script>
      function validateForma() {
        document.getElementById("alert").innerHTML = ""
        flag = true;
        if (document.querySelector("#kat").value == "") {
          document.getElementById("alert").innerHTML += "Niste popunili kategoriju!<br>"
          document.getElementById("alert").style.display="block"
          flag = false;
        }
        if (document.querySelector("#dat").value == "") {
          document.getElementById("alert").innerHTML += "Niste popunili datum!<br>"
          document.getElementById("alert").style.display="block"
          flag = false;
        }
        if (document.querySelector("#cena").value == "") {
          document.getElementById("alert").innerHTML += "Niste popunili cenu!<br>"
          document.getElementById("alert").style.display="block"
          flag = false;
        }
        if (document.querySelector("#tekst").value == "" || document.querySelector("#tekst").value.length < 10 || document.querySelector("#tekst").value.length > 180) {
          document.getElementById("alert").innerHTML += "Proverite tekst!<br>"
          document.getElementById("alert").style.display="block"
          flag = false;
        }
        if (document.querySelector("#tag").value == "") {
          document.getElementById("alert").innerHTML += "Niste popunili tagove!<br>"
          document.getElementById("alert").style.display="block"
          flag = false;
        }
        if (document.querySelector("#mail").value == "") {
          document.getElementById("alert").innerHTML += "Niste popunili mejl!<br>"
          document.getElementById("alert").style.display="block"
          flag = false;
        }
        return flag;
      }
    </script>
</body>

</html>